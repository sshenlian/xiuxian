F._setMod("tipsplus");F._fileMap({"/js/min_tips_af579bd9.js":["config","log/log","start/tips_start"],"/js/tips_mods_f7258ed2.js":["mods/new_card","mods/top_menu","mods/tutorial","mods/weather","mods/cardsub","mods/card_AD","mods/skin","mods/new_music"],"/css/min_tips_b8dd99de.css":["tips.css"]});F._firstScreenCSS=F._firstScreenCSS||[];F._firstScreenCSS.push("/css/min_tips_b8dd99de.css");F._firstScreenJS=F._firstScreenJS||[];F._firstScreenJS.push("/js/min_tips_af579bd9.js");F.addLog("tipsplus:start",{show:"1400000000",click:"1400000001"});F.module("tipsplus:start/tips_start",function(f,g,h){function j(){}j.prototype={constructor:j,init:function(){this.initView()},initView:function(){var a=this,b={};$.ajaxget(s_domain.baseuri+"/xman/data/tipspluslist",function(c){if(c.errNo==0){data=c.data;if(!a.hasData(data)){return}else{b=data}if(window.s_session){s_session.tipsData=b}a.loadTipsCss();a.render(data);a.addEvent()}else{}})},hasData:function(a){var b,c;for(b in a){c=a[b];if(c.length){return true}}return false},loadTipsCss:function(){$.loadCss(s_domain.staticUrl+"static/tipsplus/css/min_tips_b8dd99de.css")},render:function(a){$("#head").addClass("s-tips");this.redDot(a.redDot);this.newWord(a.newWord);this.layer(a.layer)},addEvent:function(){var a=this;this.switchTab(function(b){var c=$('#s_ctner_menus [data-id="'+b.to+'"]'),e=c.data("data-tid"),d=c.data("data-v");if(e){$(".marked",c).remove();a.update(e,d)}});$("#u_sp, #s_user_name_menu, #s_upfunc_menus").on("click","[data-tid]",function(){var b=$(this),d=b.data("data-tid"),c=b.data("data-v");if(d){$(".marked",b).remove();a.update(d,c)}});$(".s-tips").on("mousedown",".s-tips-entity [data-log]",function(){var l,e,c,d,b;l=$(this).attr("data-log")||"";e=l.split(",");c=e[0]||"";d=e[1]||"";b=e[2]||"";h.fire("click",{cmd:d,clickType:d,url:"",title:b,cardId:c})});h.listen(["tipsplus:mods/cardsub","tipsplus:mods/new_music"],"clickLog",function(b){h.fire("click",{clickType:b.tid,url:"",title:"",cardId:b.url})});h.listen(["tipsplus:mods/top_menu","tipsplus:mods/skin","tipsplus:mods/new_card","tipsplus:mods/cardsub","tipsplus:mods/weather","tipsplus:mods/tutorial","tipsplus:mods/card_AD","tipsplus:mods/new_music"],"showLog",function(b){h.fire("show",{showType:b.tid,url:"",title:"",cardId:b.cardId})})},redDot:function(a){var b=this;$.each(a,function(H,I){var C=I.id,x=I.locId,e=I.dir,w,z,G,y;if(I.extend&&I.extend.tplname){z=$("#s_xmancard_"+I.extend.tplname);G=z.find(I.extend.tab);z.addClass("red-dot");if(G.length){var D=z.offset(),c=G.offset(),d=parseInt(G.css("margin-left"),10),A=parseInt(G.css("padding-left"),10),B=c.left-D.left+d+A+G.width(),E=c.top-D.top;y=$('<span class="marked '+e+'" style="left: '+B+"px; top: "+E+'px"><i>&#8226</i></span>');z.append(y);G.on("click",function(){y.remove();b.update(C,1)})}}w=$('[data-tid="'+x+'"]');w.addClass("red-dot");w.append('<span class="marked '+e+'"><i>&#8226</i></span>');w.data("data-tid",C);w.data("data-v",0)})},newWord:function(a){var b=this;$.each(a,function(H,I){var C=I.id,x=I.locId,e=I.dir,w,z,G,y;if(I.extend&&I.extend.tplname){z=$("#s_xmancard_"+I.extend.tplname);G=z.find(I.extend.tab);z.addClass("new-word");if(G.length){var D=z.offset(),c=G.offset(),d=parseInt(G.css("margin-left"),10),A=parseInt(G.css("padding-left"),10),B=c.left-D.left-2,E=(G.height()-16)/2;y=$('<span class="marked '+e+'" style="left: '+B+"px; top: "+E+'px"></span>');z.append(y);G.on("click",function(){y.remove();b.update(C,1)})}}w=$('[data-tid="'+x+'"]');w.addClass("new-word");w.append('<span class="marked '+e+'"></span>');w.data("data-tid",C);w.data("data-v",0)})},layer:function(a){var b=this;$.each(a,function(d,c){(function(r){var q=r.id,s=r.locId,e=r.type,p="",t;if(s==="head"){t=$("#head");p=" s-isindex-wrap"}else{t=$('[data-tid="'+s+'"]')}if(t.length){h.use("mods/"+e,function(l){var k=new l();k.init({tid:s,elem:t,text:r.text,link:r.link,pic:r.pic,btnText:r.btnText,iSHook:p,extend:r.extend});k.done(function(){b.update(q,1)});if($.isFunction(k.show)){k.show()}})}})(c)})},switchTab:function(a){h.listen("superplus:skeleton/skeleton_ext","viewChange",function(b){a(b)})},update:function(a,b){$.ajaxpost(s_domain.baseuri+"/xman/submit/tipsplusupdate",{id:a,type:b},function(c){})}};var i=new j();g.init=function(){i.init()}});F.call("tipsplus:start/tips_start","init");